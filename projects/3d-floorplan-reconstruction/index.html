<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <script async src="https://www.googletagmanager.com/gtag/js?id=G-PR5ZCQWED0"></script> <script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-PR5ZCQWED0");</script> <script src="/assets/js/h2-cards.js"></script> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title> 3D Floorplan Reconstruction | Eva Koroleva </title> <meta name="author" content="Eva Koroleva"> <meta name="description" content="Our mission was to transform raw architectural blueprints into realistic and accurate 3D representations that could be explored in any browser—or even with VR headsets."> <meta name="keywords" content="machine-learning, deep-learning, python, neural-networks, cognitive-science"> <link rel="stylesheet" href="/assets/css/bootstrap.min.css?a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="/assets/css/academicons.min.css?f0b7046b84e425c55f3463ac249818f5"> <link defer rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons&amp;display=swap"> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-github.css?591dab5a4e56573bf4ef7fd332894c99" media="" id="highlight_theme_light"> <link rel="shortcut icon" href="data:image/svg+xml,&lt;svg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20100%20100%22&gt;&lt;text%20y=%22.9em%22%20font-size=%2290%22&gt;%F0%9F%A7%A0&lt;/text&gt;&lt;/svg&gt;"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://xmarva.github.io/projects/3d-floorplan-reconstruction/"> <script src="/assets/js/theme.js?9a0c749ec5240d9cda97bc72359a72c0"></script> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-native.css?5847e5ed4a4568527aa6cfab446049ca" media="none" id="highlight_theme_dark"> <script>initTheme();</script> </head> <body class="fixed-top-nav "> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top" role="navigation"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"> <span class="font-weight-bold">Eva</span> Koroleva </a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">about </a> </li> <li class="nav-item "> <a class="nav-link" href="/blog/">blog </a> </li> <li class="nav-item "> <a class="nav-link" href="/portfolio/">portfolio </a> </li> <li class="nav-item "> <a class="nav-link" href="/services/">services </a> </li> <li class="nav-item "> <a class="nav-link" href="/teaching/">teaching </a> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="ti ti-sun-moon" id="light-toggle-system"></i> <i class="ti ti-moon-filled" id="light-toggle-dark"></i> <i class="ti ti-sun-filled" id="light-toggle-light"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5" role="main"> <div class="post"> <header class="post-header"> <h1 class="post-title">3D Floorplan Reconstruction</h1> <p class="post-description">Our mission was to transform raw architectural blueprints into realistic and accurate 3D representations that could be explored in any browser—or even with VR headsets.</p> </header> <article> <div class="row"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/projects/3-vr-floorplan-reconstruction/main_img-480.webp 480w,/assets/img/projects/3-vr-floorplan-reconstruction/main_img-800.webp 800w,/assets/img/projects/3-vr-floorplan-reconstruction/main_img-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/projects/3-vr-floorplan-reconstruction/main_img.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="3D Florplan Reconstruction" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <div class="caption"> VR Floorplan Reconstruction </div> <p>The goal of <a href="https://getfloorplan.com" rel="external nofollow noopener" target="_blank">this project</a> was to develop a solution for automatically creating 3D floor plans and virtual tours. Our mission was to transform raw architectural blueprints into realistic and accurate 3D representations that could be explored in any browser or with VR headsets, providing a valuable tool for real estate and architectural visualization.</p> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <iframe src="https://www.youtube.com/embed/ZECQHFttNLQ?si=X_XsCcJDADp0hXU5" class="img-fluid rounded z-depth-1" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="" width="auto" height="auto"></iframe> </figure> </div> </div> <h2 id="dataset">Dataset</h2> <p>We curated a dataset of over 50,000 annotated floorplans, focusing on key architectural elements like walls, windows, doors, and dimension markers.</p> <p>To accelerate annotation, we leveraged <a href="https://arxiv.org/abs/2304.02643" rel="external nofollow noopener" target="_blank">Segment Anything Model (SAM)</a> for preliminary segmentation masks, which reduced manual labeling time by 40%.</p> <p>Final annotations included pixel-level masks for structural elements and furniture placement zones, validated through a hybrid pipeline combining <a href="https://labelbox.com" rel="external nofollow noopener" target="_blank">Labelbox</a> tools and custom quality checks.</p> <p><br></p> <h2 id="floorplan-recognition">Floorplan Recognition</h2> <div class="row"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/projects/3-vr-floorplan-reconstruction/3d-example-480.webp 480w,/assets/img/projects/3-vr-floorplan-reconstruction/3d-example-800.webp 800w,/assets/img/projects/3-vr-floorplan-reconstruction/3d-example-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/projects/3-vr-floorplan-reconstruction/3d-example.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="3D FloorPlan Reconstruction" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <div class="caption"> 3D FloorPlan Reconstruction </div> <p>Our core segmentation stack used a <a href="https://arxiv.org/abs/1505.04597" rel="external nofollow noopener" target="_blank">U-Net</a> architecture with a <a href="https://arxiv.org/abs/1512.03385" rel="external nofollow noopener" target="_blank">ResNet-50</a> backbone, optimized for architectural drawings through domain-specific augmentations like line thickness variations and simulated scan artifacts.</p> <p>The model achieved 94.2% mIoU on our test set by leveraging multi-scale feature fusion and a hybrid loss combining Dice and boundary-aware losses. For challenging elements like curved walls, we integrated <a href="https://arxiv.org/abs/1703.06870" rel="external nofollow noopener" target="_blank">Mask R-CNN</a> as a refinement stage to capture fine geometric details.</p> <h2 id="object-detection">Object Detection</h2> <p>Element localization used <a href="https://arxiv.org/abs/1911.09070" rel="external nofollow noopener" target="_blank">EfficientDet-D2</a> trained with focal loss to handle class imbalance between large structural components and small decorative elements.</p> <p>We introduced rotational bounding boxes to better represent angled architectural features, improving window/door detection accuracy by 18% compared to standard axis-aligned approaches.</p> <p><br></p> <h2 id="spatial-coordinate-transformation">Spatial Coordinate Transformation</h2> <p>Converting 2D layouts to 3D required solving perspective distortions and inconsistent scaling.</p> <p>We developed a hybrid approach using <a href="https://docs.opencv.org/4.x/d9/dab/tutorial_homography.html" rel="external nofollow noopener" target="_blank">homography estimation</a> for planar alignment and <a href="https://www.cs.ubc.ca/~lowe/papers/ijcv05.pdf" rel="external nofollow noopener" target="_blank">RANSAC</a>-based outlier rejection to handle drawing artifacts.</p> <p>Scale inference combined explicit dimension markers with learned priors about standard room sizes, achieving ±3% dimensional accuracy compared to ground-truth LIDAR scans.</p> <p><br></p> <h2 id="automatic-furnishing">Automatic Furnishing</h2> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <iframe src="https://www.youtube.com/embed/2i-dVo22lfg?si=vCV6JhYxwyXiaLDZ" class="img-fluid rounded z-depth-1" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="" width="auto" height="auto"></iframe> </figure> </div> </div> <p>The furnishing system combined rule-based layout principles with learned style preferences. Using <a href="https://arxiv.org/abs/1812.08434" rel="external nofollow noopener" target="_blank">Graph Neural Networks</a>, we modeled spatial relationships between furniture items and room dimensions.</p> <p>The system generated 3D renders in <a href="https://www.unrealengine.com" rel="external nofollow noopener" target="_blank">Unreal Engine 5</a> using procedural material generation for realistic textures.</p> <p><br></p> <h2 id="system-integration">System Integration</h2> <p>The final pipeline processed floorplans in under 90 seconds per 100m², leveraging <a href="https://onnxruntime.ai/" rel="external nofollow noopener" target="_blank">ONNX Runtime</a> for model inference and <a href="http://www.open3d.org" rel="external nofollow noopener" target="_blank">Open3D</a> for 3D reconstruction.</p> <p>VR exports used <a href="https://immersive-web.github.io/webxr-samples/" rel="external nofollow noopener" target="_blank">WebXR</a> for browser compatibility, while high-fidelity renders utilized Unreal Engine’s <a href="https://docs.unrealengine.com/5.0/en-US/nanite-virtualized-geometry-in-unreal-engine/" rel="external nofollow noopener" target="_blank">Nanite</a> geometry system.</p> <p>The solution reduced 3D modeling costs by 70% for real estate clients compared to manual workflows.</p> </article> </div> </div> <footer class="fixed-bottom" role="contentinfo"> <div class="container mt-0"> © Copyright 2025 Eva Koroleva. Powered by <a href="https://jekyllrb.com/" target="_blank" rel="external nofollow noopener">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio" rel="external nofollow noopener" target="_blank">al-folio</a> theme. Hosted by <a href="https://pages.github.com/" target="_blank" rel="external nofollow noopener">GitHub Pages</a>. Last updated: July 30, 2025. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@5.0.0/imagesloaded.pkgd.min.js" integrity="sha256-htrLFfZJ6v5udOG+3kNLINIKh2gvoKqwEhHYfTTMICc=" crossorigin="anonymous"></script> <script defer src="/assets/js/masonry.js" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.1.0/dist/medium-zoom.min.js" integrity="sha256-ZgMyDAIYDYGxbcpJcfUnYwNevG/xi9OHKaR/8GK+jWc=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js?85ddb88934d28b74e78031fd54cf8308"></script> <script src="/assets/js/no_defer.js?2781658a0a2b13ed609542042a859126"></script> <script defer src="/assets/js/common.js?e0514a05c5c95ac1a93a8dfd5249b92e"></script> <script defer src="/assets/js/copy_code.js?12775fdf7f95e901d7119054556e495f" type="text/javascript"></script> <script defer src="/assets/js/jupyter_new_tab.js?d9f17b6adc2311cbabd747f4538bb15f"></script> <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script> <script async src="https://badge.dimensions.ai/badge.js"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script> <script defer src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6" crossorigin="anonymous"></script> <script type="text/javascript">function progressBarSetup(){"max"in document.createElement("progress")?(initializeProgressElement(),$(document).on("scroll",function(){progressBar.attr({value:getCurrentScrollPosition()})}),$(window).on("resize",initializeProgressElement)):(resizeProgressBar(),$(document).on("scroll",resizeProgressBar),$(window).on("resize",resizeProgressBar))}function getCurrentScrollPosition(){return $(window).scrollTop()}function initializeProgressElement(){let e=$("#navbar").outerHeight(!0);$("body").css({"padding-top":e}),$("progress-container").css({"padding-top":e}),progressBar.css({top:e}),progressBar.attr({max:getDistanceToScroll(),value:getCurrentScrollPosition()})}function getDistanceToScroll(){return $(document).height()-$(window).height()}function resizeProgressBar(){progressBar.css({width:getWidthPercentage()+"%"})}function getWidthPercentage(){return getCurrentScrollPosition()/getDistanceToScroll()*100}const progressBar=$("#progress");window.onload=function(){setTimeout(progressBarSetup,50)};</script> <script src="/assets/js/vanilla-back-to-top.min.js?f40d453793ff4f64e238e420181a1d17"></script> <script>addBackToTop();</script> </body> </html>